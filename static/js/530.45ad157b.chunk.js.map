{"version":3,"file":"static/js/530.45ad157b.chunk.js","mappings":"8PACA,EAAmC,iCAAnC,EAA4E,sB,SC6D5E,EAzDe,WACb,OAAwCA,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAcF,EAAaG,IAAI,SAC/BC,GAAWC,EAAAA,EAAAA,MACjB,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KA2BA,OAbAC,EAAAA,EAAAA,YAAU,WAAM,wCACd,qGAE8BC,EAAAA,EAAAA,IAAkBV,GAFhD,OAEQW,EAFR,OAGEL,EAAUK,EAAcC,SACxBJ,EAAS,IAJX,4CADc,sBAQVR,GARW,WAAD,wBASZa,EAEH,GAAE,CAACb,KAGF,iCACE,kBAAMc,SAvBW,SAAAC,GACnBA,EAAEC,iBAEED,EAAEE,OAAOjB,YAAYkB,MAAMC,QAC7BpB,EAAgB,CAAEQ,MAAOQ,EAAEE,OAAOjB,YAAYkB,MAAMC,QAEvD,EAiBG,WACE,kBACEC,UAAWC,EACXC,KAAK,cACLC,KAAK,OACLL,MAAOX,EACPiB,SAjCa,SAAAT,GACnBP,EAASO,EAAEE,OAAOC,MACnB,KAiCK,mBAAQK,KAAK,SAAb,SAAsB,eAExB,wBACGlB,EAAOoB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACV,eAAIP,UAAWC,EAAf,UACE,SAAC,KAAD,CAAMO,GAAE,UAAKF,GAAMG,MAAO,CAAEC,KAAM5B,GAAlC,SACGyB,KAFqCD,EADhC,QAUnB,C,+LC1DDK,EAAAA,EAAAA,SAAAA,QAAyB,+BACzB,IAAMC,EAAU,mCAEHC,EAAiB,mCAAG,oGACRF,EAAAA,EAAAA,IAAA,qDACyBC,IAFjB,cACzBE,EADyB,yBAIxBA,EAASC,MAJe,2CAAH,qDAOjBC,EAAe,mCAAG,WAAMC,GAAN,uFACNN,EAAAA,EAAAA,IAAA,iBACXM,EADW,mCACuBL,IAFjB,cACvBE,EADuB,yBAItBA,EAASC,MAJa,2CAAH,sDAOfG,EAAY,mCAAG,WAAMD,GAAN,uFACHN,EAAAA,EAAAA,IAAA,iBACXM,EADW,2CAC+BL,IAF5B,cACpBE,EADoB,yBAInBA,EAASC,MAJU,2CAAH,sDAOZI,EAAe,mCAAG,WAAMF,GAAN,uFACNN,EAAAA,EAAAA,IAAA,iBACXM,EADW,2CAC+BL,IAFzB,cACvBE,EADuB,yBAItBA,EAASC,MAJa,2CAAH,sDAOfzB,EAAiB,mCAAG,WAAMV,GAAN,uFACR+B,EAAAA,EAAAA,IAAA,8BACE/B,EADF,mCACwCgC,IAFhC,cACzBE,EADyB,yBAIxBA,EAASC,MAJe,2CAAH,qD","sources":["webpack://react-homework-template/./src/pages/Movies.module.css?d157","pages/Movies.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"links_list__item\":\"Movies_links_list__item__o3g7G\",\"input\":\"Movies_input__N3yRL\"};","import { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { getMoviesBySearch } from 'services/api';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query');\n  const location = useLocation();\n  const [movies, setMovies] = useState([]);\n  const [query, setQuery] = useState('');\n\n  const handleChange = e => {\n    setQuery(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (e.target.searchQuery.value.trim()) {\n      setSearchParams({ query: e.target.searchQuery.value.trim() });\n    }\n  };\n\n  useEffect(() => {\n    async function moviesBySearch() {\n      // setLoader(true);\n      const visibleMovies = await getMoviesBySearch(searchQuery);\n      setMovies(visibleMovies.results);\n      setQuery('');\n      // setLoader(false);\n    }\n    if (searchQuery) {\n      moviesBySearch();\n    }\n  }, [searchQuery]);\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input\n          className={css.input}\n          name=\"searchQuery\"\n          type=\"text\"\n          value={query}\n          onChange={handleChange}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      <ul>\n        {movies.map(({ id, title }) => (\n          <li className={css.links_list__item} key={id}>\n            <Link to={`${id}`} state={{ from: location }}>\n              {title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default Movies;","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'c5a1db41bd5eb56af64be0ab647b8aee';\n\nexport const getTrendingMovies = async () => {\n  const response = await axios.get(\n    `/trending/movie/day?language=en-US&api_key=${API_KEY}`\n  );\n  return response.data;\n};\n\nexport const getMovieDetails = async movieId => {\n  const response = await axios.get(\n    `/movie/${movieId}?language=en-US&api_key=${API_KEY}`\n  );\n  return response.data;\n};\n\nexport const getMovieCast = async movieId => {\n  const response = await axios.get(\n    `/movie/${movieId}/credits?language=en-US&api_key=${API_KEY}`\n  );\n  return response.data;\n};\n\nexport const getMovieReviews = async movieId => {\n  const response = await axios.get(\n    `/movie/${movieId}/reviews?language=en-US&api_key=${API_KEY}`\n  );\n  return response.data;\n};\n\nexport const getMoviesBySearch = async searchQuery => {\n  const response = await axios.get(\n    `/search/movie?query=${searchQuery}&language=en-US&api_key=${API_KEY}`\n  );\n  return response.data;\n};"],"names":["useSearchParams","searchParams","setSearchParams","searchQuery","get","location","useLocation","useState","movies","setMovies","query","setQuery","useEffect","getMoviesBySearch","visibleMovies","results","moviesBySearch","onSubmit","e","preventDefault","target","value","trim","className","css","name","type","onChange","map","id","title","to","state","from","axios","API_KEY","getTrendingMovies","response","data","getMovieDetails","movieId","getMovieCast","getMovieReviews"],"sourceRoot":""}